<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Mon Aug 31 18:57:10 UTC 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Transaction (GCloud Java 0.0.1 API)</title>
<meta name="date" content="2015-08-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Transaction (GCloud Java 0.0.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/gcloud/datastore/StructuredQuery.PropertyFilter.html" title="class in com.google.gcloud.datastore"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/google/gcloud/datastore/Transaction.Response.html" title="interface in com.google.gcloud.datastore"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/gcloud/datastore/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.gcloud.datastore</div>
<h2 title="Interface Transaction" class="title">Interface Transaction</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html" title="interface in com.google.gcloud.datastore">DatastoreReader</a>, <a href="../../../../com/google/gcloud/datastore/DatastoreReaderWriter.html" title="interface in com.google.gcloud.datastore">DatastoreReaderWriter</a>, <a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html" title="interface in com.google.gcloud.datastore">DatastoreWriter</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">Transaction</span>
extends <a href="../../../../com/google/gcloud/datastore/DatastoreReaderWriter.html" title="interface in com.google.gcloud.datastore">DatastoreReaderWriter</a></pre>
<div class="block">A Google cloud datastore transaction.
 Similar to <a href="../../../../com/google/gcloud/datastore/Batch.html" title="interface in com.google.gcloud.datastore"><code>Batch</code></a> any write operation that is applied on a transaction will only be sent
 to the Datastore upon <a href="../../../../com/google/gcloud/datastore/Transaction.html#commit()"><code>commit()</code></a>. A call to <a href="../../../../com/google/gcloud/datastore/Transaction.html#rollback()"><code>rollback()</code></a> will invalidate
 the transaction and discard the changes. Any read operation that is done by a transaction
 will be part of it and therefore a <code>commit</code> is guaranteed to fail if an entity
 was modified outside of the transaction after it was read. Write operation on this
 transaction will not be reflected by read operation (as the changes are only sent to
 the Datastore upon <code>commit</code>.
 A usage example:
 <pre> <code>Transaction transaction = datastore.newTransaction();
   try {
     Entity entity = transaction.get(key);
     if (!entity.contains("last_name") || entity.isNull("last_name")) {
       String[] name = entity.getString("name").split(" ");
       entity = Entity.builder(entity).remove("name").set("first_name", name[0])
           .set("last_name", name[1]).build();
       transaction.update(entity);
       transaction.commit();
     }
   } finally {
     if (transaction.active()) {
       transaction.rollback();
     }
   }
 </code> </pre></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="https://cloud.google.com/datastore/docs/concepts/transactions">Google Cloud Datastore transactions</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.Response.html" title="interface in com.google.gcloud.datastore">Transaction.Response</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#active()">active</a></strong>()</code>
<div class="block">Returns <code>true</code> if the transaction is still active (was not committed or rolledback).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#add(com.google.gcloud.datastore.FullEntity...)">add</a></strong>(<a href="../../../../com/google/gcloud/datastore/FullEntity.html" title="class in com.google.gcloud.datastore">FullEntity</a>&lt;?&gt;...&nbsp;entity)</code>
<div class="block">Datastore add operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#addWithDeferredIdAllocation(com.google.gcloud.datastore.FullEntity...)">addWithDeferredIdAllocation</a></strong>(<a href="../../../../com/google/gcloud/datastore/FullEntity.html" title="class in com.google.gcloud.datastore">FullEntity</a>&lt;?&gt;...&nbsp;entity)</code>
<div class="block">Datastore add operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/gcloud/datastore/Transaction.Response.html" title="interface in com.google.gcloud.datastore">Transaction.Response</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#commit()">commit</a></strong>()</code>
<div class="block">Commit the transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/gcloud/datastore/Datastore.html" title="interface in com.google.gcloud.datastore">Datastore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#datastore()">datastore</a></strong>()</code>
<div class="block">Returns the transaction associated <a href="../../../../com/google/gcloud/datastore/Datastore.html" title="interface in com.google.gcloud.datastore"><code>Datastore</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#delete(com.google.gcloud.datastore.Key...)">delete</a></strong>(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>...&nbsp;key)</code>
<div class="block">A datastore delete operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#fetch(com.google.gcloud.datastore.Key...)">fetch</a></strong>(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>...&nbsp;keys)</code>
<div class="block">Returns a list with a value for each given key (ordered by input).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#get(com.google.gcloud.datastore.Key...)">get</a></strong>(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>...&nbsp;key)</code>
<div class="block">Returns an <a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore"><code>Entity</code></a> for each given <a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore"><code>Key</code></a> that exists in the Datastore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#get(com.google.gcloud.datastore.Key)">get</a></strong>(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>&nbsp;key)</code>
<div class="block">Returns an <a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore"><code>Entity</code></a> for the given <a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore"><code>Key</code></a> or <code>null</code> if does not exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#put(com.google.gcloud.datastore.Entity...)">put</a></strong>(<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>...&nbsp;entity)</code>
<div class="block">A Datastore put (a.k.a upsert) operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#rollback()">rollback</a></strong>()</code>
<div class="block">Rollback the transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../com/google/gcloud/datastore/QueryResults.html" title="interface in com.google.gcloud.datastore">QueryResults</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#run(com.google.gcloud.datastore.Query)">run</a></strong>(<a href="../../../../com/google/gcloud/datastore/Query.html" title="class in com.google.gcloud.datastore">Query</a>&lt;T&gt;&nbsp;query)</code>
<div class="block">Submit a <a href="../../../../com/google/gcloud/datastore/Query.html" title="class in com.google.gcloud.datastore"><code>Query</code></a> and returns its result.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/gcloud/datastore/Transaction.html#update(com.google.gcloud.datastore.Entity...)">update</a></strong>(<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>...&nbsp;entity)</code>
<div class="block">A Datastore update operation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.google.gcloud.datastore.DatastoreWriter">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.google.gcloud.datastore.<a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html" title="interface in com.google.gcloud.datastore">DatastoreWriter</a></h3>
<code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html#add(com.google.gcloud.datastore.FullEntity)">add</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="get(com.google.gcloud.datastore.Key)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre><a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>&nbsp;get(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>&nbsp;key)</pre>
<div class="block">Returns an <a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore"><code>Entity</code></a> for the given <a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore"><code>Key</code></a> or <code>null</code> if does not exists.
 The requested entity will be part of this Datastore transaction (so a commit is guaranteed
 to fail if entity was changed by others after it was seen by this transaction) but any
 write changes in this transaction will not be reflected by the returned entity.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html#get(com.google.gcloud.datastore.Key)">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html" title="interface in com.google.gcloud.datastore">DatastoreReader</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - upon failure or if no longer active</dd></dl>
</li>
</ul>
<a name="get(com.google.gcloud.datastore.Key...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>&gt;&nbsp;get(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>...&nbsp;key)</pre>
<div class="block">Returns an <a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore"><code>Entity</code></a> for each given <a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore"><code>Key</code></a> that exists in the Datastore.
 The order of the result is unspecified.
 Results are loaded lazily therefore it is possible to get a <code>DatastoreException</code>
 from the returned <code>Iterator</code>'s <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true#hasNext()" title="class or interface in java.util"><code>hasNext</code></a> or
 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true#next()" title="class or interface in java.util"><code>next</code></a> methods.
 The requested entities will be part of this Datastore transaction (so a commit is guaranteed
 to fail if any of the entities was changed by others after they were seen by this transaction)
 but any write changes in this transaction will not be reflected by the returned entities.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html#get(com.google.gcloud.datastore.Key...)">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html" title="interface in com.google.gcloud.datastore">DatastoreReader</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - upon failure or if no longer active</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html#get(com.google.gcloud.datastore.Key)"><code>DatastoreReader.get(Key)</code></a></dd></dl>
</li>
</ul>
<a name="fetch(com.google.gcloud.datastore.Key...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>&gt;&nbsp;fetch(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>...&nbsp;keys)</pre>
<div class="block">Returns a list with a value for each given key (ordered by input).
 A <code>null</code> would be returned for non-existing keys.
 When possible prefer using <a href="../../../../com/google/gcloud/datastore/DatastoreReader.html#get(com.google.gcloud.datastore.Key...)"><code>DatastoreReader.get(Key...)</code></a> which does not eagerly loads the results.
 The requested entities will be part of this Datastore transaction (so a commit is guaranteed
 to fail if any of the entities was changed by others after they were seen by this transaction)
 but any write changes in this transaction will not be reflected by the returned entities.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html#fetch(com.google.gcloud.datastore.Key...)">fetch</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html" title="interface in com.google.gcloud.datastore">DatastoreReader</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - upon failure or if no longer active</dd></dl>
</li>
</ul>
<a name="run(com.google.gcloud.datastore.Query)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>&lt;T&gt;&nbsp;<a href="../../../../com/google/gcloud/datastore/QueryResults.html" title="interface in com.google.gcloud.datastore">QueryResults</a>&lt;T&gt;&nbsp;run(<a href="../../../../com/google/gcloud/datastore/Query.html" title="class in com.google.gcloud.datastore">Query</a>&lt;T&gt;&nbsp;query)</pre>
<div class="block">Submit a <a href="../../../../com/google/gcloud/datastore/Query.html" title="class in com.google.gcloud.datastore"><code>Query</code></a> and returns its result.
 The entities returned by the result of this query will be part of this Datastore transaction
 (so a commit is guaranteed to fail if any of the entities was changed by others after the
 query was performed) but any write changes in this transaction will not be reflected by
 the result.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html#run(com.google.gcloud.datastore.Query)">run</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreReader.html" title="interface in com.google.gcloud.datastore">DatastoreReader</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - upon failure or if no longer active</dd></dl>
</li>
</ul>
<a name="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre><a href="../../../../com/google/gcloud/datastore/Transaction.Response.html" title="interface in com.google.gcloud.datastore">Transaction.Response</a>&nbsp;commit()</pre>
<div class="block">Commit the transaction.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - if could not commit the transaction or if no longer active</dd></dl>
</li>
</ul>
<a name="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>void&nbsp;rollback()</pre>
<div class="block">Rollback the transaction.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - if transaction was already committed</dd></dl>
</li>
</ul>
<a name="active()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>active</h4>
<pre>boolean&nbsp;active()</pre>
<div class="block">Returns <code>true</code> if the transaction is still active (was not committed or rolledback).</div>
</li>
</ul>
<a name="datastore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>datastore</h4>
<pre><a href="../../../../com/google/gcloud/datastore/Datastore.html" title="interface in com.google.gcloud.datastore">Datastore</a>&nbsp;datastore()</pre>
<div class="block">Returns the transaction associated <a href="../../../../com/google/gcloud/datastore/Datastore.html" title="interface in com.google.gcloud.datastore"><code>Datastore</code></a>.</div>
</li>
</ul>
<a name="addWithDeferredIdAllocation(com.google.gcloud.datastore.FullEntity...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWithDeferredIdAllocation</h4>
<pre>void&nbsp;addWithDeferredIdAllocation(<a href="../../../../com/google/gcloud/datastore/FullEntity.html" title="class in com.google.gcloud.datastore">FullEntity</a>&lt;?&gt;...&nbsp;entity)</pre>
<div class="block">Datastore add operation.
 This method will also allocate id for any entity with an incomplete key.
 As oppose to <a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html#add(com.google.gcloud.datastore.FullEntity)"><code>DatastoreWriter.add(FullEntity)</code></a>, this method will defer any necessary id allocation
 to submit time.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if any of the given entities is missing a key</dd>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - if a given entity with a
     complete key was already added to this writer or if not active</dd></dl>
</li>
</ul>
<a name="add(com.google.gcloud.datastore.FullEntity...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>&gt;&nbsp;add(<a href="../../../../com/google/gcloud/datastore/FullEntity.html" title="class in com.google.gcloud.datastore">FullEntity</a>&lt;?&gt;...&nbsp;entity)</pre>
<div class="block">Datastore add operation.
 This method will automatically allocate id for any entity with an incomplete key.
 For entities with complete keys that were marked for deletion in this writer the operation
 will be changed to <a href="../../../../com/google/gcloud/datastore/Transaction.html#put(com.google.gcloud.datastore.Entity...)"><code>put(com.google.gcloud.datastore.Entity...)</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html#add(com.google.gcloud.datastore.FullEntity...)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html" title="interface in com.google.gcloud.datastore">DatastoreWriter</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a list of <code>Entity</code> ordered by input with the same properties and a key that
     is either newly allocated or the same one if was already complete</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - if a given entity with the
     same complete key was already added to this writer, if writer is not active or
     if id allocation for an entity with an incomplete key failed.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html#add(com.google.gcloud.datastore.FullEntity)"><code>DatastoreWriter.add(FullEntity)</code></a></dd></dl>
</li>
</ul>
<a name="update(com.google.gcloud.datastore.Entity...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>void&nbsp;update(<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>...&nbsp;entity)</pre>
<div class="block">A Datastore update operation.
 The operation will fail if an entity with the same key does not already exist.
 This operation will be converted to <a href="../../../../com/google/gcloud/datastore/Transaction.html#put(com.google.gcloud.datastore.Entity...)"><code>put(com.google.gcloud.datastore.Entity...)</code></a> operation for entities that were already
     added or put in this writer</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html#update(com.google.gcloud.datastore.Entity...)">update</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html" title="interface in com.google.gcloud.datastore">DatastoreWriter</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - if an entity is marked for
     deletion in this writer or if not active</dd></dl>
</li>
</ul>
<a name="delete(com.google.gcloud.datastore.Key...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>void&nbsp;delete(<a href="../../../../com/google/gcloud/datastore/Key.html" title="class in com.google.gcloud.datastore">Key</a>...&nbsp;key)</pre>
<div class="block">A datastore delete operation.
 It is OK request a deletion of a non-existing entity.
 This operation will also remove from this batch any prior writes for entities with the same
     keys</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html#delete(com.google.gcloud.datastore.Key...)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html" title="interface in com.google.gcloud.datastore">DatastoreWriter</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - if not active</dd></dl>
</li>
</ul>
<a name="put(com.google.gcloud.datastore.Entity...)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>put</h4>
<pre>void&nbsp;put(<a href="../../../../com/google/gcloud/datastore/Entity.html" title="class in com.google.gcloud.datastore">Entity</a>...&nbsp;entity)</pre>
<div class="block">A Datastore put (a.k.a upsert) operation.
 The operation will add or modify the entities.
 This operation will also remove from this writer any prior writes for the same entities.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html#put(com.google.gcloud.datastore.Entity...)">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/google/gcloud/datastore/DatastoreWriter.html" title="interface in com.google.gcloud.datastore">DatastoreWriter</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/gcloud/datastore/DatastoreException.html" title="class in com.google.gcloud.datastore">DatastoreException</a></code> - if not active</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/gcloud/datastore/StructuredQuery.PropertyFilter.html" title="class in com.google.gcloud.datastore"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/google/gcloud/datastore/Transaction.Response.html" title="interface in com.google.gcloud.datastore"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/gcloud/datastore/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 Google. All rights reserved.</small></p>
</body>
</html>
